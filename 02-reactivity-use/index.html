<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
</html>

<script type="module">
  // 引入 reactive effect 函数
  import {
    reactive,
    effectWatch,
  } from "../03-reactivity-achieve/core/reactivity/05-reactivity_export.js";

  // 1、定义响应式对象a , b
  let a = reactive({
    value: 10,
  });
  let b;

  // 2、定义一个b更新规则的函数，根据a的变化去更新b的值
  function update() {
    b = a.value + 10;
    console.log(b);
  }

  // 3、调用effect,把更新规则传递进去
  effectWatch(update);

  // 4、当a发生变更后，会自动调用effect中的更新函数
  a.value = 20;

  /*

    总结：
      1、新建01-reactivity-use
      2、npm init -y 初始化一个一个项目，对包进行管理
      3、npm i @vue/reactivity -D
      4、使用reactive 把a定义成一个响应式对象
      5、调用effect函数，把更新函数传入。
      6、可以实现，默认调用一次更新函数，当响应式对象更改时，自动调用传入的更新函数，这就是响应式对象原理核心所在
  */
</script>
